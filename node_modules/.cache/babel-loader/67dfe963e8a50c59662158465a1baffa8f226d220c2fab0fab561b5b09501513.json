{"ast":null,"code":"import _objectSpread from\"/workspaces/winetasting/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _taggedTemplateLiteral from\"/workspaces/winetasting/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import React,{useState,useEffect,useCallback}from'react';import{whiteWineChecks,redWineChecks,initialOptions}from'./TastingData';import{saveTastingRecord,fetchCustomOptions}from'../utils/Firestore';import styled from'styled-components';// ======================= スタイル定義 =======================\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FormContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  padding: 20px;\\n  padding-bottom: 80px; /* \\u30CA\\u30D3\\u30B2\\u30FC\\u30B7\\u30E7\\u30F3\\u30D0\\u30FC\\u306E\\u5206\\u3092\\u78BA\\u4FDD */\\n\"])));const WineTypeToggle=styled.button(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  padding: 10px 15px;\\n  margin-right: 10px;\\n  border-radius: 20px;\\n  background-color: \",\";\\n  color: \",\";\\n\"])),props=>props.active?'#007bff':'#f0f0f0',props=>props.active?'white':'black');const AccordionPanel=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  margin-bottom: 15px;\\n  border: 1px solid #ddd;\\n  border-radius: 8px;\\n  background: white;\\n  overflow: hidden;\\n\"])));const SectionHeader=styled.h3(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  padding: 15px;\\n  margin: 0;\\n  background-color: #f8f8f8;\\n  border-bottom: 1px solid #eee;\\n  cursor: pointer;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n\"])));const OptionsGrid=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  padding: 15px;\\n  display: flex;\\n  flex-wrap: wrap;\\n\"])));const OptionButton=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  padding: 12px 10px;\\n  margin: 4px;\\n  border: 1px solid \",\";\\n  background: \",\";\\n  color: \",\";\\n  border-radius: 5px;\\n  font-size: 14px;\\n  cursor: pointer;\\n  flex-basis: auto;\\n  text-align: center;\\n\"])),props=>props.selected?'#007bff':'#ccc',props=>props.selected?'#007bff':'white',props=>props.selected?'white':'#333');const SaveButton=styled.button(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n    width: 100%;\\n    padding: 15px;\\n    margin-top: 20px;\\n    background-color: #28a745;\\n    color: white;\\n    font-size: 18px;\\n    border-radius: 10px;\\n\"])));// ========================================================\nconst TastingForm=_ref=>{let{user}=_ref;const[wineType,setWineType]=useState('white');// 'white' or 'red'\nconst[formData,setFormData]=useState({});const[customOptions,setCustomOptions]=useState(initialOptions);const[openSection,setOpenSection]=useState('Appearance');const currentChecks=wineType==='white'?whiteWineChecks:redWineChecks;const[tastingDate,setTastingDate]=useState(new Date().toISOString().substring(0,10));// 1. カスタムオプションの読み込み\nuseEffect(()=>{if(user){fetchCustomOptions(user.uid).then(options=>{// 初期リストとカスタムリストをマージ\nsetCustomOptions(prev=>_objectSpread(_objectSpread({},prev),{},{countries:[...new Set([...initialOptions.countries,...(options.countries||[])])],redGrapes:[...new Set([...initialOptions.redGrapes,...(options.redGrapes||[])])],whiteGrapes:[...new Set([...initialOptions.whiteGrapes,...(options.whiteGrapes||[])])]}));});}},[user]);// 2. 選択肢のハンドリングロジック\nconst handleSelect=useCallback((section,key,value,maxSelect,type)=>{const currentSelections=formData[key]||(type==='multi'?[]:'');let newSelections;if(type==='single'||type==='select_custom'||type==='text'){newSelections=currentSelections===value?'':value;// トグル機能\n}else if(type==='multi'){if(currentSelections.includes(value)){newSelections=currentSelections.filter(v=>v!==value);// 削除\n}else{if(currentSelections.length<maxSelect){newSelections=[...currentSelections,value];// 追加\n}else{alert(\"\\u3053\\u306E\\u9805\\u76EE\\u306F\\u6700\\u5927\".concat(maxSelect,\"\\u3064\\u307E\\u3067\\u3057\\u304B\\u9078\\u629E\\u3067\\u304D\\u307E\\u305B\\u3093\\u3002\"));return;}}}setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[key]:newSelections}));},[formData]);// 3. フォームのレンダリング\nconst renderCheckItem=(section,key,check)=>{const currentValue=formData[key]||(check.type==='multi'?[]:'');const isMulti=check.type==='multi';const isCustom=check.type==='select_custom';const optionsList=isCustom?customOptions[check.key]:check.options;if(check.type==='text'){return/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:currentValue,onChange:e=>handleSelect(section,key,e.target.value,1,'text'),placeholder:\"\\u4F8B: \".concat(key,\" (\\u81EA\\u7531\\u5165\\u529B)\"),style:{width:'100%',padding:'10px',boxSizing:'border-box'}});}return/*#__PURE__*/_jsx(OptionsGrid,{children:optionsList.map(option=>{const isSelected=isMulti?currentValue.includes(option):currentValue===option;return/*#__PURE__*/_jsxs(OptionButton,{selected:isSelected,onClick:()=>handleSelect(section,key,option,check.maxSelect,check.type),children:[option.split('.').pop(),\" \"]},option);})});};// 4. 保存ロジック\nconst handleSubmit=async e=>{e.preventDefault();if(!user)return alert(\"ログインしてから保存してください。\");const summaryData={vintage:formData['収穫年']||'未入力',producer:formData['生産者']||'未入力',// 生産者名は自由入力として別途追加可能\ntype:formData['タイプ']||'未選択'};const recordData={wine_type:wineType,summary:summaryData,full_data:formData};try{await saveTastingRecord(user,recordData);alert('✅ テイスティング結果を保存し、同期しました！');setFormData({});// フォームクリア\nsetOpenSection('Appearance');}catch(error){alert(\"履歴の保存に失敗しました: \"+error.message);}};return/*#__PURE__*/_jsxs(FormContainer,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u65B0\\u898F\\u30C6\\u30A4\\u30B9\\u30C6\\u30A3\\u30F3\\u30B0\\u8A18\\u9332\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(WineTypeToggle,{active:wineType==='white',onClick:()=>{setWineType('white');setFormData({});},children:\"\\u767D\\u30EF\\u30A4\\u30F3\"}),/*#__PURE__*/_jsx(WineTypeToggle,{active:wineType==='red',onClick:()=>{setWineType('red');setFormData({});},children:\"\\u8D64\\u30EF\\u30A4\\u30F3\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[Object.entries(currentChecks).map(_ref2=>{let[sectionKey,checks]=_ref2;return/*#__PURE__*/_jsxs(AccordionPanel,{children:[/*#__PURE__*/_jsxs(SectionHeader,{onClick:()=>setOpenSection(openSection===sectionKey?null:sectionKey),children:[checks.title,/*#__PURE__*/_jsx(\"span\",{children:openSection===sectionKey?'▲':'▼'})]}),openSection===sectionKey&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'0 15px 15px'},children:Object.entries(checks).map(_ref3=>{let[key,check]=_ref3;if(key==='title')return null;return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'15px'},children:[/*#__PURE__*/_jsxs(\"h4\",{style:{margin:'5px 0'},children:[key,\" (Max: \",check.maxSelect,\")\"]}),renderCheckItem(sectionKey,key,check)]},key);})})]},sectionKey);}),/*#__PURE__*/_jsx(SaveButton,{type:\"submit\",children:\"\\u7D50\\u679C\\u3092\\u4FDD\\u5B58\\u30FB\\u540C\\u671F\"})]})]});};export default TastingForm;","map":{"version":3,"names":["React","useState","useEffect","useCallback","whiteWineChecks","redWineChecks","initialOptions","saveTastingRecord","fetchCustomOptions","styled","jsx","_jsx","jsxs","_jsxs","FormContainer","div","_templateObject","_taggedTemplateLiteral","WineTypeToggle","button","_templateObject2","props","active","AccordionPanel","_templateObject3","SectionHeader","h3","_templateObject4","OptionsGrid","_templateObject5","OptionButton","_templateObject6","selected","SaveButton","_templateObject7","TastingForm","_ref","user","wineType","setWineType","formData","setFormData","customOptions","setCustomOptions","openSection","setOpenSection","currentChecks","tastingDate","setTastingDate","Date","toISOString","substring","uid","then","options","prev","_objectSpread","countries","Set","redGrapes","whiteGrapes","handleSelect","section","key","value","maxSelect","type","currentSelections","newSelections","includes","filter","v","length","alert","concat","renderCheckItem","check","currentValue","isMulti","isCustom","optionsList","onChange","e","target","placeholder","style","width","padding","boxSizing","children","map","option","isSelected","onClick","split","pop","handleSubmit","preventDefault","summaryData","vintage","producer","recordData","wine_type","summary","full_data","error","message","marginBottom","onSubmit","Object","entries","_ref2","sectionKey","checks","title","_ref3","marginTop","margin"],"sources":["/workspaces/winetasting/src/components/TastingForm.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { whiteWineChecks, redWineChecks, initialOptions } from './TastingData';\nimport { saveTastingRecord, fetchCustomOptions } from '../utils/Firestore';\nimport styled from 'styled-components';\n\n// ======================= スタイル定義 =======================\nconst FormContainer = styled.div`\n  padding: 20px;\n  padding-bottom: 80px; /* ナビゲーションバーの分を確保 */\n`;\nconst WineTypeToggle = styled.button`\n  padding: 10px 15px;\n  margin-right: 10px;\n  border-radius: 20px;\n  background-color: ${props => props.active ? '#007bff' : '#f0f0f0'};\n  color: ${props => props.active ? 'white' : 'black'};\n`;\nconst AccordionPanel = styled.div`\n  margin-bottom: 15px;\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  background: white;\n  overflow: hidden;\n`;\nconst SectionHeader = styled.h3`\n  padding: 15px;\n  margin: 0;\n  background-color: #f8f8f8;\n  border-bottom: 1px solid #eee;\n  cursor: pointer;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\nconst OptionsGrid = styled.div`\n  padding: 15px;\n  display: flex;\n  flex-wrap: wrap;\n`;\nconst OptionButton = styled.div`\n  padding: 12px 10px;\n  margin: 4px;\n  border: 1px solid ${props => props.selected ? '#007bff' : '#ccc'};\n  background: ${props => props.selected ? '#007bff' : 'white'};\n  color: ${props => props.selected ? 'white' : '#333'};\n  border-radius: 5px;\n  font-size: 14px;\n  cursor: pointer;\n  flex-basis: auto;\n  text-align: center;\n`;\nconst SaveButton = styled.button`\n    width: 100%;\n    padding: 15px;\n    margin-top: 20px;\n    background-color: #28a745;\n    color: white;\n    font-size: 18px;\n    border-radius: 10px;\n`;\n// ========================================================\n\nconst TastingForm = ({ user }) => {\n  const [wineType, setWineType] = useState('white'); // 'white' or 'red'\n  const [formData, setFormData] = useState({});\n  const [customOptions, setCustomOptions] = useState(initialOptions);\n  const [openSection, setOpenSection] = useState('Appearance'); \n  const currentChecks = wineType === 'white' ? whiteWineChecks : redWineChecks;\n  const [tastingDate, setTastingDate] = useState(new Date().toISOString().substring(0, 10));\n\n  // 1. カスタムオプションの読み込み\n  useEffect(() => {\n    if (user) {\n      fetchCustomOptions(user.uid).then(options => {\n        // 初期リストとカスタムリストをマージ\n        setCustomOptions(prev => ({ \n            ...prev, \n            countries: [...new Set([...initialOptions.countries, ...(options.countries || [])])],\n            redGrapes: [...new Set([...initialOptions.redGrapes, ...(options.redGrapes || [])])],\n            whiteGrapes: [...new Set([...initialOptions.whiteGrapes, ...(options.whiteGrapes || [])])],\n        }));\n      });\n    }\n  }, [user]);\n\n  // 2. 選択肢のハンドリングロジック\n  const handleSelect = useCallback((section, key, value, maxSelect, type) => {\n    const currentSelections = formData[key] || (type === 'multi' ? [] : '');\n    let newSelections;\n\n    if (type === 'single' || type === 'select_custom' || type === 'text') {\n      newSelections = currentSelections === value ? '' : value; // トグル機能\n    } else if (type === 'multi') {\n      if (currentSelections.includes(value)) {\n        newSelections = currentSelections.filter(v => v !== value); // 削除\n      } else {\n        if (currentSelections.length < maxSelect) {\n          newSelections = [...currentSelections, value]; // 追加\n        } else {\n          alert(`この項目は最大${maxSelect}つまでしか選択できません。`);\n          return;\n        }\n      }\n    }\n\n    setFormData(prev => ({\n      ...prev,\n      [key]: newSelections\n    }));\n  }, [formData]);\n\n  // 3. フォームのレンダリング\n  const renderCheckItem = (section, key, check) => {\n    const currentValue = formData[key] || (check.type === 'multi' ? [] : '');\n    const isMulti = check.type === 'multi';\n    const isCustom = check.type === 'select_custom';\n    const optionsList = isCustom ? customOptions[check.key] : check.options;\n\n    if (check.type === 'text') {\n        return (\n            <input\n                type=\"text\"\n                value={currentValue}\n                onChange={(e) => handleSelect(section, key, e.target.value, 1, 'text')}\n                placeholder={`例: ${key} (自由入力)`}\n                style={{ width: '100%', padding: '10px', boxSizing: 'border-box' }}\n            />\n        );\n    }\n    \n    return (\n        <OptionsGrid>\n            {optionsList.map(option => {\n                const isSelected = isMulti \n                    ? currentValue.includes(option) \n                    : currentValue === option;\n\n                return (\n                    <OptionButton\n                        key={option}\n                        selected={isSelected}\n                        onClick={() => handleSelect(section, key, option, check.maxSelect, check.type)}\n                    >\n                        {option.split('.').pop()} {/* 番号を除いて表示 */}\n                    </OptionButton>\n                );\n            })}\n        </OptionsGrid>\n    );\n  };\n  \n  // 4. 保存ロジック\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!user) return alert(\"ログインしてから保存してください。\");\n    \n    const summaryData = {\n        vintage: formData['収穫年'] || '未入力',\n        producer: formData['生産者'] || '未入力', // 生産者名は自由入力として別途追加可能\n        type: formData['タイプ'] || '未選択',\n    };\n\n    const recordData = {\n        wine_type: wineType,\n        summary: summaryData,\n        full_data: formData,\n    };\n\n    try {\n        await saveTastingRecord(user, recordData);\n        alert('✅ テイスティング結果を保存し、同期しました！');\n        setFormData({}); // フォームクリア\n        setOpenSection('Appearance');\n    } catch (error) {\n        alert(\"履歴の保存に失敗しました: \" + error.message);\n    }\n  };\n\n  return (\n    <FormContainer>\n      <h2>新規テイスティング記録</h2>\n      <div style={{ marginBottom: '20px' }}>\n        <WineTypeToggle active={wineType === 'white'} onClick={() => {setWineType('white'); setFormData({});}}>白ワイン</WineTypeToggle>\n        <WineTypeToggle active={wineType === 'red'} onClick={() => {setWineType('red'); setFormData({});}}>赤ワイン</WineTypeToggle>\n      </div>\n\n      <form onSubmit={handleSubmit}>\n        {Object.entries(currentChecks).map(([sectionKey, checks]) => (\n          <AccordionPanel key={sectionKey}>\n            <SectionHeader onClick={() => setOpenSection(openSection === sectionKey ? null : sectionKey)}>\n              {checks.title} \n              <span>{openSection === sectionKey ? '▲' : '▼'}</span>\n            </SectionHeader>\n            {openSection === sectionKey && (\n              <div style={{ padding: '0 15px 15px' }}>\n                {Object.entries(checks).map(([key, check]) => {\n                    if (key === 'title') return null; \n                    return (\n                        <div key={key} style={{ marginTop: '15px' }}>\n                            <h4 style={{ margin: '5px 0' }}>{key} (Max: {check.maxSelect})</h4>\n                            {renderCheckItem(sectionKey, key, check)}\n                        </div>\n                    );\n                })}\n              </div>\n            )}\n          </AccordionPanel>\n        ))}\n\n        <SaveButton type=\"submit\">結果を保存・同期</SaveButton>\n      </form>\n    </FormContainer>\n  );\n};\n\nexport default TastingForm;\n"],"mappings":"mWAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAC/D,OAASC,eAAe,CAAEC,aAAa,CAAEC,cAAc,KAAQ,eAAe,CAC9E,OAASC,iBAAiB,CAAEC,kBAAkB,KAAQ,oBAAoB,CAC1E,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CAEtC;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,aAAa,CAAGL,MAAM,CAACM,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,gJAG/B,CACD,KAAM,CAAAC,cAAc,CAAGT,MAAM,CAACU,MAAM,CAAAC,gBAAA,GAAAA,gBAAA,CAAAH,sBAAA,yHAIdI,KAAK,EAAIA,KAAK,CAACC,MAAM,CAAG,SAAS,CAAG,SAAS,CACxDD,KAAK,EAAIA,KAAK,CAACC,MAAM,CAAG,OAAO,CAAG,OAAO,CACnD,CACD,KAAM,CAAAC,cAAc,CAAGd,MAAM,CAACM,GAAG,CAAAS,gBAAA,GAAAA,gBAAA,CAAAP,sBAAA,+HAMhC,CACD,KAAM,CAAAQ,aAAa,CAAGhB,MAAM,CAACiB,EAAE,CAAAC,gBAAA,GAAAA,gBAAA,CAAAV,sBAAA,2MAS9B,CACD,KAAM,CAAAW,WAAW,CAAGnB,MAAM,CAACM,GAAG,CAAAc,gBAAA,GAAAA,gBAAA,CAAAZ,sBAAA,kEAI7B,CACD,KAAM,CAAAa,YAAY,CAAGrB,MAAM,CAACM,GAAG,CAAAgB,gBAAA,GAAAA,gBAAA,CAAAd,sBAAA,yNAGTI,KAAK,EAAIA,KAAK,CAACW,QAAQ,CAAG,SAAS,CAAG,MAAM,CAClDX,KAAK,EAAIA,KAAK,CAACW,QAAQ,CAAG,SAAS,CAAG,OAAO,CAClDX,KAAK,EAAIA,KAAK,CAACW,QAAQ,CAAG,OAAO,CAAG,MAAM,CAMpD,CACD,KAAM,CAAAC,UAAU,CAAGxB,MAAM,CAACU,MAAM,CAAAe,gBAAA,GAAAA,gBAAA,CAAAjB,sBAAA,0KAQ/B,CACD;AAEA,KAAM,CAAAkB,WAAW,CAAGC,IAAA,EAAc,IAAb,CAAEC,IAAK,CAAC,CAAAD,IAAA,CAC3B,KAAM,CAACE,QAAQ,CAAEC,WAAW,CAAC,CAAGtC,QAAQ,CAAC,OAAO,CAAC,CAAE;AACnD,KAAM,CAACuC,QAAQ,CAAEC,WAAW,CAAC,CAAGxC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC5C,KAAM,CAACyC,aAAa,CAAEC,gBAAgB,CAAC,CAAG1C,QAAQ,CAACK,cAAc,CAAC,CAClE,KAAM,CAACsC,WAAW,CAAEC,cAAc,CAAC,CAAG5C,QAAQ,CAAC,YAAY,CAAC,CAC5D,KAAM,CAAA6C,aAAa,CAAGR,QAAQ,GAAK,OAAO,CAAGlC,eAAe,CAAGC,aAAa,CAC5E,KAAM,CAAC0C,WAAW,CAAEC,cAAc,CAAC,CAAG/C,QAAQ,CAAC,GAAI,CAAAgD,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,SAAS,CAAC,CAAC,CAAE,EAAE,CAAC,CAAC,CAEzF;AACAjD,SAAS,CAAC,IAAM,CACd,GAAImC,IAAI,CAAE,CACR7B,kBAAkB,CAAC6B,IAAI,CAACe,GAAG,CAAC,CAACC,IAAI,CAACC,OAAO,EAAI,CAC3C;AACAX,gBAAgB,CAACY,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACdD,IAAI,MACPE,SAAS,CAAE,CAAC,GAAG,GAAI,CAAAC,GAAG,CAAC,CAAC,GAAGpD,cAAc,CAACmD,SAAS,CAAE,IAAIH,OAAO,CAACG,SAAS,EAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CACpFE,SAAS,CAAE,CAAC,GAAG,GAAI,CAAAD,GAAG,CAAC,CAAC,GAAGpD,cAAc,CAACqD,SAAS,CAAE,IAAIL,OAAO,CAACK,SAAS,EAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CACpFC,WAAW,CAAE,CAAC,GAAG,GAAI,CAAAF,GAAG,CAAC,CAAC,GAAGpD,cAAc,CAACsD,WAAW,CAAE,IAAIN,OAAO,CAACM,WAAW,EAAI,EAAE,CAAC,CAAC,CAAC,CAAC,EAC5F,CAAC,CACL,CAAC,CAAC,CACJ,CACF,CAAC,CAAE,CAACvB,IAAI,CAAC,CAAC,CAEV;AACA,KAAM,CAAAwB,YAAY,CAAG1D,WAAW,CAAC,CAAC2D,OAAO,CAAEC,GAAG,CAAEC,KAAK,CAAEC,SAAS,CAAEC,IAAI,GAAK,CACzE,KAAM,CAAAC,iBAAiB,CAAG3B,QAAQ,CAACuB,GAAG,CAAC,GAAKG,IAAI,GAAK,OAAO,CAAG,EAAE,CAAG,EAAE,CAAC,CACvE,GAAI,CAAAE,aAAa,CAEjB,GAAIF,IAAI,GAAK,QAAQ,EAAIA,IAAI,GAAK,eAAe,EAAIA,IAAI,GAAK,MAAM,CAAE,CACpEE,aAAa,CAAGD,iBAAiB,GAAKH,KAAK,CAAG,EAAE,CAAGA,KAAK,CAAE;AAC5D,CAAC,IAAM,IAAIE,IAAI,GAAK,OAAO,CAAE,CAC3B,GAAIC,iBAAiB,CAACE,QAAQ,CAACL,KAAK,CAAC,CAAE,CACrCI,aAAa,CAAGD,iBAAiB,CAACG,MAAM,CAACC,CAAC,EAAIA,CAAC,GAAKP,KAAK,CAAC,CAAE;AAC9D,CAAC,IAAM,CACL,GAAIG,iBAAiB,CAACK,MAAM,CAAGP,SAAS,CAAE,CACxCG,aAAa,CAAG,CAAC,GAAGD,iBAAiB,CAAEH,KAAK,CAAC,CAAE;AACjD,CAAC,IAAM,CACLS,KAAK,8CAAAC,MAAA,CAAWT,SAAS,kFAAe,CAAC,CACzC,OACF,CACF,CACF,CAEAxB,WAAW,CAACc,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACXD,IAAI,MACP,CAACQ,GAAG,EAAGK,aAAa,EACpB,CAAC,CACL,CAAC,CAAE,CAAC5B,QAAQ,CAAC,CAAC,CAEd;AACA,KAAM,CAAAmC,eAAe,CAAGA,CAACb,OAAO,CAAEC,GAAG,CAAEa,KAAK,GAAK,CAC/C,KAAM,CAAAC,YAAY,CAAGrC,QAAQ,CAACuB,GAAG,CAAC,GAAKa,KAAK,CAACV,IAAI,GAAK,OAAO,CAAG,EAAE,CAAG,EAAE,CAAC,CACxE,KAAM,CAAAY,OAAO,CAAGF,KAAK,CAACV,IAAI,GAAK,OAAO,CACtC,KAAM,CAAAa,QAAQ,CAAGH,KAAK,CAACV,IAAI,GAAK,eAAe,CAC/C,KAAM,CAAAc,WAAW,CAAGD,QAAQ,CAAGrC,aAAa,CAACkC,KAAK,CAACb,GAAG,CAAC,CAAGa,KAAK,CAACtB,OAAO,CAEvE,GAAIsB,KAAK,CAACV,IAAI,GAAK,MAAM,CAAE,CACvB,mBACIvD,IAAA,UACIuD,IAAI,CAAC,MAAM,CACXF,KAAK,CAAEa,YAAa,CACpBI,QAAQ,CAAGC,CAAC,EAAKrB,YAAY,CAACC,OAAO,CAAEC,GAAG,CAAEmB,CAAC,CAACC,MAAM,CAACnB,KAAK,CAAE,CAAC,CAAE,MAAM,CAAE,CACvEoB,WAAW,YAAAV,MAAA,CAAQX,GAAG,+BAAU,CAChCsB,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAM,CAAEC,OAAO,CAAE,MAAM,CAAEC,SAAS,CAAE,YAAa,CAAE,CACtE,CAAC,CAEV,CAEA,mBACI7E,IAAA,CAACiB,WAAW,EAAA6D,QAAA,CACPT,WAAW,CAACU,GAAG,CAACC,MAAM,EAAI,CACvB,KAAM,CAAAC,UAAU,CAAGd,OAAO,CACpBD,YAAY,CAACR,QAAQ,CAACsB,MAAM,CAAC,CAC7Bd,YAAY,GAAKc,MAAM,CAE7B,mBACI9E,KAAA,CAACiB,YAAY,EAETE,QAAQ,CAAE4D,UAAW,CACrBC,OAAO,CAAEA,CAAA,GAAMhC,YAAY,CAACC,OAAO,CAAEC,GAAG,CAAE4B,MAAM,CAAEf,KAAK,CAACX,SAAS,CAAEW,KAAK,CAACV,IAAI,CAAE,CAAAuB,QAAA,EAE9EE,MAAM,CAACG,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC,CAAC,GAAC,GAJrBJ,MAKK,CAAC,CAEvB,CAAC,CAAC,CACO,CAAC,CAEpB,CAAC,CAED;AACA,KAAM,CAAAK,YAAY,CAAG,KAAO,CAAAd,CAAC,EAAK,CAChCA,CAAC,CAACe,cAAc,CAAC,CAAC,CAClB,GAAI,CAAC5D,IAAI,CAAE,MAAO,CAAAoC,KAAK,CAAC,mBAAmB,CAAC,CAE5C,KAAM,CAAAyB,WAAW,CAAG,CAChBC,OAAO,CAAE3D,QAAQ,CAAC,KAAK,CAAC,EAAI,KAAK,CACjC4D,QAAQ,CAAE5D,QAAQ,CAAC,KAAK,CAAC,EAAI,KAAK,CAAE;AACpC0B,IAAI,CAAE1B,QAAQ,CAAC,KAAK,CAAC,EAAI,KAC7B,CAAC,CAED,KAAM,CAAA6D,UAAU,CAAG,CACfC,SAAS,CAAEhE,QAAQ,CACnBiE,OAAO,CAAEL,WAAW,CACpBM,SAAS,CAAEhE,QACf,CAAC,CAED,GAAI,CACA,KAAM,CAAAjC,iBAAiB,CAAC8B,IAAI,CAAEgE,UAAU,CAAC,CACzC5B,KAAK,CAAC,yBAAyB,CAAC,CAChChC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAE;AACjBI,cAAc,CAAC,YAAY,CAAC,CAChC,CAAE,MAAO4D,KAAK,CAAE,CACZhC,KAAK,CAAC,gBAAgB,CAAGgC,KAAK,CAACC,OAAO,CAAC,CAC3C,CACF,CAAC,CAED,mBACE7F,KAAA,CAACC,aAAa,EAAA2E,QAAA,eACZ9E,IAAA,OAAA8E,QAAA,CAAI,oEAAW,CAAI,CAAC,cACpB5E,KAAA,QAAKwE,KAAK,CAAE,CAAEsB,YAAY,CAAE,MAAO,CAAE,CAAAlB,QAAA,eACnC9E,IAAA,CAACO,cAAc,EAACI,MAAM,CAAEgB,QAAQ,GAAK,OAAQ,CAACuD,OAAO,CAAEA,CAAA,GAAM,CAACtD,WAAW,CAAC,OAAO,CAAC,CAAEE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAE,CAAAgD,QAAA,CAAC,0BAAI,CAAgB,CAAC,cAC5H9E,IAAA,CAACO,cAAc,EAACI,MAAM,CAAEgB,QAAQ,GAAK,KAAM,CAACuD,OAAO,CAAEA,CAAA,GAAM,CAACtD,WAAW,CAAC,KAAK,CAAC,CAAEE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAE,CAAAgD,QAAA,CAAC,0BAAI,CAAgB,CAAC,EACrH,CAAC,cAEN5E,KAAA,SAAM+F,QAAQ,CAAEZ,YAAa,CAAAP,QAAA,EAC1BoB,MAAM,CAACC,OAAO,CAAChE,aAAa,CAAC,CAAC4C,GAAG,CAACqB,KAAA,MAAC,CAACC,UAAU,CAAEC,MAAM,CAAC,CAAAF,KAAA,oBACtDlG,KAAA,CAACU,cAAc,EAAAkE,QAAA,eACb5E,KAAA,CAACY,aAAa,EAACoE,OAAO,CAAEA,CAAA,GAAMhD,cAAc,CAACD,WAAW,GAAKoE,UAAU,CAAG,IAAI,CAAGA,UAAU,CAAE,CAAAvB,QAAA,EAC1FwB,MAAM,CAACC,KAAK,cACbvG,IAAA,SAAA8E,QAAA,CAAO7C,WAAW,GAAKoE,UAAU,CAAG,GAAG,CAAG,GAAG,CAAO,CAAC,EACxC,CAAC,CACfpE,WAAW,GAAKoE,UAAU,eACzBrG,IAAA,QAAK0E,KAAK,CAAE,CAAEE,OAAO,CAAE,aAAc,CAAE,CAAAE,QAAA,CACpCoB,MAAM,CAACC,OAAO,CAACG,MAAM,CAAC,CAACvB,GAAG,CAACyB,KAAA,EAAkB,IAAjB,CAACpD,GAAG,CAAEa,KAAK,CAAC,CAAAuC,KAAA,CACrC,GAAIpD,GAAG,GAAK,OAAO,CAAE,MAAO,KAAI,CAChC,mBACIlD,KAAA,QAAewE,KAAK,CAAE,CAAE+B,SAAS,CAAE,MAAO,CAAE,CAAA3B,QAAA,eACxC5E,KAAA,OAAIwE,KAAK,CAAE,CAAEgC,MAAM,CAAE,OAAQ,CAAE,CAAA5B,QAAA,EAAE1B,GAAG,CAAC,SAAO,CAACa,KAAK,CAACX,SAAS,CAAC,GAAC,EAAI,CAAC,CAClEU,eAAe,CAACqC,UAAU,CAAEjD,GAAG,CAAEa,KAAK,CAAC,GAFlCb,GAGL,CAAC,CAEd,CAAC,CAAC,CACC,CACN,GAjBkBiD,UAkBL,CAAC,EAClB,CAAC,cAEFrG,IAAA,CAACsB,UAAU,EAACiC,IAAI,CAAC,QAAQ,CAAAuB,QAAA,CAAC,kDAAQ,CAAY,CAAC,EAC3C,CAAC,EACM,CAAC,CAEpB,CAAC,CAED,cAAe,CAAAtD,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}